{# src/ManageCompanyBundle/Resources/views/Restaurante/productos.html.twig #}
{% extends 'ManageCompanyBundle:Page:base.html.twig' %}
{% import '@ManageCompany/Librerias/librerias.html.twig' as librerias %}
{% block body %}
    <div class="container">
		<p>
			<br />
			<a href="{{ path('add_producto') }}" class="btn btn-success">AÃ±adir producto</a>
        </p>
		<div class="panel panel-body panel-default">
		<div class="be-panel col-sm-12">
            <table id="productos-table" class="table display responsive nowrap">
                <thead>
                <tr>
					<th>Nombre</th>
                    <th>Descripcion</th>
					<th>Disponibilidad</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                {% for producto in productos %}
					<tr>
                        <td>{{ producto.nombre }}</td>
                        <td>{{ producto.descripcion }}</td>
						<td>
							{% if producto.disponible %}
								<a href="{{ path('activar_producto', {'id_producto': producto.id, 'value': 0} ) }}"><span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span></a>
							{% else %}
								<a href="{{ path('activar_producto', {'id_producto': producto.id, 'value': 1} ) }}"><span class="glyphicon glyphicon-eye-close" aria-hidden="true"></span></a>
							{% endif %}
						</td>
                        <td>
                            <a href="{{ path('edit_producto', {'id_producto': producto.id}) }}" class="btn btn-primary">Editar</a>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
		</div>
    </div>
{% endblock %}
{% block javascripts %}
    {{ librerias.datatables_js() }}
    <script>
        $(document).ready(function() {
            $('#productos-table').DataTable({
                "language": {
                    "url": "//cdn.datatables.net/plug-ins/1.10.10/i18n/Spanish.json",
                    "decimal": ",",
                    "thousands": "."
                },
                "scrollY":        "600px",
                "scrollCollapse": true,
                "lengthMenu": [[10, 15, 20, 30, 50, -1], [10, 15, 20, 30, 50,"Todos"]]
            });
        });
    </script>
{% endblock %}
